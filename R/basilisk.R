# scvelo 0.2.5
# and dependencies pinned to fix various issues linked below
.scvelo_dependencies <- c(
    'absl-py==2.1.0',
    'anndata==0.10.7',
    'annotated-types==0.7.0',
    'anyio==4.3.0',
    'appnope==0.1.4',
    'argon2-cffi==23.1.0',
    'argon2-cffi-bindings==21.2.0',
    'array_api_compat==1.6',
    'arrow==1.3.0',
    'asttokens==2.4.1',
    'async-lru==2.0.4',
    'attrs==23.2.0',
    'Babel==2.14.0',
    'beautifulsoup4==4.12.3',
    'bleach==6.1.0',
    'blessed==1.19.1',
    'boto3==1.34.109',
    'botocore==1.34.110',
    'Brotli==1.1.0',
    'build==1.2.1',
    'CacheControl==0.14.0',
    'cached-property==1.5.2',
    'certifi==2024.2.2',
    'cffi==1.16.0',
    'charset-normalizer==3.3.2',
    'chex==0.1.83',
    'cleo==2.1.0',
    'click==8.1.7',
    'colorama==0.4.6',
    'comm==0.2.2',
    'contextlib2==21.6.0',
    'contourpy==1.2.1',
    'crashtest==0.4.1',
    'croniter==1.3.15',
    'cycler==0.12.1',
    'dateutils==0.6.12',
    'debugpy==1.8.1',
    'decorator==5.1.1',
    'deepdiff==7.0.1',
    'defusedxml==0.7.1',
    'distlib==0.3.8',
    'dm-tree==0.1.8',
    'dnspython==2.6.1',
    'docrep==0.3.2',
    'dulwich==0.21.7',
    'email_validator==2.1.1',
    'entrypoints==0.4',
    'et-xmlfile==1.1.0',
    'etils==1.6.0',
    'exceptiongroup==1.2.0',
    'executing==2.0.1',
    'fastapi==0.111.0',
    'fastapi-cli==0.0.4',
    'fastjsonschema==2.19.1',
    'filelock==3.14.0',
    'flax==0.8.3',
    'fonttools==4.51.0',
    'fqdn==1.5.1',
    'fsspec==2023.12.2',
    'get-annotations==0.1.2',
    'gmpy2==2.1.5',
    'h11==0.14.0',
    'h2==4.1.0',
    'h5py==3.11.0',
    'hpack==4.0.0',
    'httpcore==1.0.5',
    'httpx==0.27.0',
    'hyperframe==6.0.1',
    'idna==3.7',
    'importlib_metadata==7.1.0',
    'importlib_resources==6.4.0',
    'inquirer==3.1.4',
    'installer==0.7.0',
    'ipykernel==6.29.3',
    'ipython==8.18.1',
    'ipywidgets==8.1.2',
    'isoduration==20.11.0',
    'itsdangerous==2.2.0',
    'jaraco.classes==3.4.0',
    'jax==0.4.27',
    'jaxlib==0.4.23.dev20240522',
    'jedi==0.19.1',
    'Jinja2==3.1.4',
    'jmespath==1.0.1',
    'joblib==1.4.2',
    'json5==0.9.25',
    'jsonpointer==2.4',
    'jsonschema==4.22.0',
    'jsonschema-specifications==2023.12.1',
    'jupyter_client==8.6.1',
    'jupyter_core==5.7.2',
    'jupyter-events==0.10.0',
    'jupyter-lsp==2.2.5',
    'jupyter_server==2.14.0',
    'jupyter_server_terminals==0.5.3',
    'jupyterlab==4.2.0',
    'jupyterlab_pygments==0.3.0',
    'jupyterlab_server==2.27.1',
    'jupyterlab_widgets==3.0.10',
    'keyring==24.3.1',
    'kiwisolver==1.4.5',
    'legacy-api-wrap==1.4',
    'lightning==2.0.4',
    'lightning_cloud==0.5.69',
    'lightning-utilities==0.11.2',
    'llvmlite==0.42.0',
    'loompy==3.0.6',
    'markdown-it-py==3.0.0',
    'MarkupSafe==2.1.5',
    'matplotlib==3.7.3',
    'matplotlib-inline==0.1.7',
    'mdurl==0.1.2',
    'mistune==3.0.2',
    'ml-collections==0.1.1',
    'ml-dtypes==0.4.0',
    'more-itertools==10.2.0',
    'mpmath==1.3.0',
    'msgpack==1.0.8',
    'mudata==0.2.3',
    'multipledispatch==0.6.0',
    'munkres==1.1.4',
    'natsort==8.4.0',
    'nbclient==0.10.0',
    'nbconvert==7.16.4',
    'nbformat==5.10.4',
    'nest_asyncio==1.6.0',
    'networkx==3.2.1',
    'notebook_shim==0.2.4',
    'numba==0.59.1',
    'numpy==1.23.1',
    'numpy-groupies==0.11.1',
    'numpyro==0.15.0',
    'openpyxl==3.1.2',
    'opt-einsum==3.3.0',
    'optax==0.2.2',
    'orbax-checkpoint==0.4.4',
    'ordered-set==4.1.0',
    'orjson==3.10.3',
    'overrides==7.7.0',
    'packaging==24.0',
    'pandas==2.2.2',
    'pandocfilters==1.5.0',
    'parso==0.8.4',
    'patsy==0.5.6',
    'pexpect==4.9.0',
    'pickleshare==0.7.5',
    'pillow==10.3.0',
    'pip==24.0',
    'pkginfo==1.10.0',
    'pkgutil_resolve_name==1.3.10',
    'platformdirs==4.2.2',
    'poetry==1.8.3',
    'poetry-core==1.9.0',
    'poetry-plugin-export==1.8.0',
    'prometheus_client==0.20.0',
    'prompt-toolkit==3.0.42',
    'protobuf==4.25.3',
    'psutil==5.9.8',
    'ptyprocess==0.7.0',
    'pure-eval==0.2.2',
    'pycparser==2.22',
    'pydantic==2.7.1',
    'pydantic_core==2.18.2',
    'Pygments==2.18.0',
    'PyJWT==2.8.0',
    'pynndescent==0.5.12',
    'pyobjc-core==10.2',
    'pyobjc-framework-Cocoa==10.2',
    'pyparsing==3.1.2',
    'pyproject_hooks==1.1.0',
    'pyro-api==0.1.2',
    'pyro-ppl==1.9.0+f02dfb9',
    'PySocks==1.7.1',
    'python-dateutil==2.9.0',
    'python-editor==1.0.4',
    'python-json-logger==2.0.7',
    'python-multipart==0.0.9',
    'pytorch-lightning==2.2.2',
    'pytz==2024.1',
    'PyYAML==6.0.1',
    'pyzmq==26.0.3',
    'rapidfuzz==3.9.1',
    'readchar==4.1.0.dev3',
    'referencing==0.35.1',
    'requests==2.32.2',
    'requests-toolbelt==1.0.0',
    'rfc3339-validator==0.1.4',
    'rfc3986-validator==0.1.1',
    'rich==13.7.1',
    'rpds-py==0.18.1',
    's3transfer==0.10.1',
    'scanpy==1.10.1',
    'scikit-learn==1.5.0',
    'scipy==1.13.0',
    'scvelo==0.2.5',
    'scvi-tools==1.1.2',
    'seaborn==0.13.2',
    'Send2Trash==1.8.3',
    'session-info==1.0.0',
    'setuptools==70.0.0',
    'shellingham==1.5.4',
    'six==1.16.0',
    'sniffio==1.3.1',
    'soupsieve==2.5',
    'sparse==0.15.3',
    'stack-data==0.6.2',
    'starlette==0.37.2',
    'starsessions==1.3.0',
    'statsmodels==0.14.2',
    'stdlib-list==0.10.0',
    'sympy==1.12',
    'tensorstore==0.1.59',
    'terminado==0.18.1',
    'threadpoolctl==3.5.0',
    'tinycss2==1.3.0',
    'tomli==2.0.1',
    'tomlkit==0.12.5',
    'toolz==0.12.1',
    'torch==2.3.0',
    'torchmetrics==1.4.0.post0',
    'tornado==6.4',
    'tqdm==4.66.4',
    'traitlets==5.14.3',
    'trove-classifiers==2024.5.17',
    'typer==0.12.3',
    'typer-slim==0.12.3',
    'types-python-dateutil==2.9.0.20240316',
    'typing_extensions==4.11.0',
    'typing-utils==0.1.0',
    'tzdata==2024.1',
    'ujson==5.10.0',
    'umap-learn==0.5.5',
    'unicodedata2==15.1.0',
    'uri-template==1.3.0',
    'urllib3==1.26.18',
    'uvicorn==0.29.0',
    'virtualenv==20.26.2',
    'wcwidth==0.2.13',
    'webcolors==1.13',
    'webencodings==0.5.1',
    'websocket-client==1.8.0',
    'websockets==11.0.3',
    'wheel==0.43.0',
    'widgetsnbextension==4.0.10',
    'xarray==2024.5.0',
    'xattr==1.1.0',
    'xlrd==1.2.0',
    'zipp==3.17.0'
)

# Note:
# c(
#     "matplotlib==3.7.3", # https://stackoverflow.com/questions/77128061/ydata-profiling-profilereport-attributeerror-module-matplotlib-cbook-has-no
#     "tqdm==4.66.4", # required for progress bar
#     "ipywidgets==8.1.2", # required for progress bar
#     "jupyterlab==4.2.0", # required for progress bar
#     "numpy==1.23.1" # https://github.com/OpenTalker/video-retalking/issues/35
# )

#' @importFrom basilisk BasiliskEnvironment
#' @importFrom zellkonverter AnnDataDependencies
velo.env <- BasiliskEnvironment("env", "velociraptor",
    packages=.scvelo_dependencies, channels = c("conda-forge", "bioconda"))
